import{u as U,ab as L,B as S,r as D,i as N,M as B,o as r,c as i,b as e,w as l,v as c,F as u,d as m,e as p,g as C,ad as O,t as h,ae as w}from"./index.fab6f324.js";import{r as g,m as y,c as b,a as $,b as k,u as A}from"./index.esm.46afbfe9.js";const H={class:"bg-white py-16 px-4 overflow-hidden sm:px-6 lg:px-8 lg:py-24"},T={class:"relative max-w-xl mx-auto"},E=O('<svg class="absolute left-full transform translate-x-1/2" width="404" height="404" fill="none" viewBox="0 0 404 404" aria-hidden="true"><defs><pattern id="85737c0e-0916-41d7-917f-596dc7edfa27" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><rect x="0" y="0" width="4" height="4" class="text-gray-200" fill="currentColor"></rect></pattern></defs><rect width="404" height="404" fill="url(#85737c0e-0916-41d7-917f-596dc7edfa27)"></rect></svg><svg class="absolute right-full bottom-0 transform -translate-x-1/2" width="404" height="404" fill="none" viewBox="0 0 404 404" aria-hidden="true"><defs><pattern id="85737c0e-0916-41d7-917f-596dc7edfa27" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><rect x="0" y="0" width="4" height="4" class="text-gray-200" fill="currentColor"></rect></pattern></defs><rect width="404" height="404" fill="url(#85737c0e-0916-41d7-917f-596dc7edfa27)"></rect></svg><div class="text-center"><h2 class="text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl">Auction</h2></div>',3),F={class:"mt-12"},j={action:"#",method:"POST",class:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8"},q={class:"sm:col-span-2"},I=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1),R={class:"mt-1"},z={class:"sm:col-span-2"},G=e("label",{for:"summery",class:"block text-sm font-medium text-gray-700"},"Summery",-1),J={class:"mt-1"},K=e("label",{for:"price",class:"block text-sm font-medium text-gray-700"},"USD",-1),Q={class:"mt-1"},W=e("label",{for:"expires",class:"block text-sm font-medium text-gray-700"},"Expires in Hr.",-1),X={class:"mt-1"},Y={class:"sm:col-span-2"},Z=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),ee={class:"mt-1"},te=e("div",{class:"sm:col-span-2"},null,-1),se={class:"sm:col-span-2"},oe=["onClick"],ne={__name:"AdminView",setup(re){const f=U(),d=f.currentProduct,_=d.endsIn-Date.now(),v=new L,a=S().params.type,s=D({name:a==="edit"?d.name:"",summary:a==="edit"?d.summary:"",description:a==="edit"?d.description:"",startingPrice:a==="edit"?d.currentPrice:"",hours:a==="edit"&&_.value>0?new Date(_).getHours()-4:""}),V={name:{required:g,minLength:y(3),maxLength:b(20)},summary:{required:g,minLength:y(5),maxLength:b(60)},description:{required:g,minLength:y(10),maxLength:b(400)},startingPrice:{required:g,minValue:$(10),maxValue:k(1e5)},hours:{required:g,minValue:$(1),maxValue:k(20)}},n=A(V,s),x=N(null),M=async()=>{if(await n.value.$validate()){const o=Date.now()+s.hours*36e5;a==="edit"?(f.editProduct(s.name,`https://picsum.photos/10${Math.round(Math.random()*89)+10}/10${Math.round(Math.random()*89)+10}`,s.summary,s.description,s.startingPrice,o),w.push("/home/page/1")):(f.addProduct(s.name,`https://picsum.photos/10${Math.round(Math.random()*89)+10}/10${Math.round(Math.random()*89)+10}`,s.summary,s.description,s.startingPrice,o),v.success(a==="edit"?"auction succesfully updated":"New auction successfully added!"),w.push(`/home/page/${f.products.length}`))}else v.error("please fill in the form")};return B(()=>{x.value.click(),x.value.focus()}),(P,o)=>(r(),i("div",H,[e("div",T,[E,e("div",F,[e("form",j,[e("div",q,[I,e("div",R,[l(e("input",{ref_key:"auctionName",ref:x,"onUpdate:modelValue":o[0]||(o[0]=t=>s.name=t),type:"text",name:"name",id:"name",class:"py-3 px-4 block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md"},null,512),[[c,s.name]])]),(r(!0),i(u,null,m(p(n).name.$errors,t=>(r(),i("span",{key:t.$uid,class:"text-red-500"},h(t.$message),1))),128))]),e("div",z,[G,e("div",J,[l(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>s.summary=t),id:"summery",name:"summery",type:"text",class:"py-3 px-4 block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md"},null,512),[[c,s.summary]])]),(r(!0),i(u,null,m(p(n).summary.$errors,t=>(r(),i("span",{key:t.$uid,class:"text-red-500"},h(t.$message),1))),128))]),e("div",null,[K,e("div",Q,[l(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>s.startingPrice=t),placeholder:"Min. $10",type:"number",name:"price",id:"price",class:"py-3 px-4 block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md"},null,512),[[c,s.startingPrice]])]),(r(!0),i(u,null,m(p(n).startingPrice.$errors,t=>(r(),i("span",{key:t.$uid,class:"text-red-500"},h(t.$message),1))),128))]),e("div",null,[W,e("div",X,[l(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>s.hours=t),type:"number",placeholder:"1-20Hr ",name:"expires",id:"expires",class:"py-3 px-4 block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md"},null,512),[[c,s.hours]])]),(r(!0),i(u,null,m(p(n).hours.$errors,t=>(r(),i("span",{key:t.$uid,class:"text-red-500"},h(t.$message),1))),128))]),e("div",Y,[Z,e("div",ee,[l(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=t=>s.description=t),id:"description",name:"description",rows:"4",class:"py-3 px-4 block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 border border-gray-300 rounded-md"},null,512),[[c,s.description]])]),(r(!0),i(u,null,m(p(n).description.$errors,t=>(r(),i("span",{key:t.$uid,class:"text-red-500"},h(t.$message),1))),128))]),te,e("div",se,[e("button",{onClick:C(M,["prevent"]),type:"submit",class:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Submit",8,oe)])])])])]))}};export{ne as default};
